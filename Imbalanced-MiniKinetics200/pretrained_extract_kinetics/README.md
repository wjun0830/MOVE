## Details of Imbalanced-MiniKinetics200
### Instructions for preparing Imbalanced-MiniKinetic200 dataset

------------------------
## Using Pretrained Features
### 1. Download Kinetics 400
and move to pretrained_extract_kinetics directory

### 2. run below file to generate video instance directory first (To prevent process dying.)

- python minikinetics_extract_frame_generate_dir.py

### 3. run below files (In case of dying processes, iteratively run until specified videos in train and val list text files are all extracted.) 
TODO : Note that codes will be more stable if implemented with multithreading.

- 'minikinetics_extract_frame_morethreads_train.py'
- 'minikinetics_extract_frame_morethreads_val.py'
- 'minikinetics_extract_frame_morethreads_train150.py'
- 'minikinetics_extract_frame_morethreads_train150.py'

```'minikinetics_extract_frame_check.py'``` 
is present to check how many video instances are converted per class.

### 4. run below file to delete empty directories.
- 'minikinetics_delete_emptydir.py'

### 5. Extract 150 frames per video using ResNet-50/101
- 'python extract.py --depth 50'
- 'python extract.py --depth 101' 

Video frames over 150 frames will be deleted automatically by `mini_loader.py`.

`train.lst`, `val.lst`, `train_class_to_idx.pkl`, `val_class_to_idx.pkl` are automatically generated by `mini_loader.py`.

Features are saved in the following directory.
```
/project/data/kinetics-dataset/minikinetics_feature/' + args.MODEL_NAME + '/' + mode + '/'
```
- Finally, data is all set. 
- Move data to proper directory or change the data path in [../dataset/dutils_kinetics.py](../dataset/dutils_kinetics.py).




